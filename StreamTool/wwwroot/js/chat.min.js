"use strict";function deleteMessage(){connection.invoke("DeleteMessage",this.id).catch(function(n){return console.error(n.toString())})}function deleteMessages(){connection.invoke("DeleteMessages").catch(function(n){return console.error(n.toString())})}function appendMessage(n){var r=n.msgId,u=n.sender,f=n.message,e=document.querySelector("messageTempalte"),t=document.importNode(e.content,!0),i;t.content.querySelector("#messageContainer").id="msg_"+r;t.content.querySelector("#usernameTemplate").innerText=u+": ";t.content.querySelector("#textTemplate").innerText=f;i=t.content.querySelector("#deleteTemplate");i.id=r;i.onclick=deleteMessage;document.getElementById("messageList").appendChild(t)}var connection=(new signalR.HubConnectionBuilder).withUrl("/ChatMessageHub").build();connection.start().then(function(){console.log("Connected successfully");var n=document.getElementById("clearAll");n.disabled=!1;n.onclick=deleteMessages}).catch(function(n){return console.error(n.toString())});connection.on("AllMessages",function(n){for(var t in n)appendMessage(n[t])});connection.on("DeleteMessage",function(n){var t=document.getElementById("msg_"+n);t.remove()});connection.on("DeleteMessages",function(n){var t,i;for(t in n)i=document.getElementById("msg_"+n[t]),i.remove()});connection.on("AddMessage",function(n){appendMessage(n)});