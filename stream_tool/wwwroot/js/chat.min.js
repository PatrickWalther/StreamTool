"use strict";function deleteMessage(){connection.invoke("DeleteMessage",this.id).catch(function(n){return console.error(n.toString())})}function deleteMessages(){connection.invoke("DeleteMessages").catch(function(n){return console.error(n.toString())})}function appendMessage(n){var s=n.msgId,h=n.sender,c=n.message,t=document.createElement("div"),i,u,f,e,r,o;t.className="chat-message center-block";t.id="msg_"+s;i=document.createElement("div");i.className="row";u=document.createElement("div");u.className="col-xs-8 col-md-6";f=document.createElement("div");f.className="col-xs-4 col-md-6 text-right";e=document.createElement("h4");e.className="message-name";e.innerText=h;r=document.createElement("span");r.innerHTML='<i class="fa fa-trash fa-fw" aria-hidden="true"><\/i>';r.id=s;r.onclick=deleteMessage;o=document.createElement("div");o.className="row message-text";o.innerText=c;u.appendChild(e);f.appendChild(r);i.appendChild(u);i.appendChild(f);t.appendChild(i);t.appendChild(o);document.getElementById("messageList").appendChild(t)}var connection=(new signalR.HubConnectionBuilder).withUrl("/ChatMessageHub").build();connection.start().then(function(){console.log("Connected successfully");var n=document.getElementById("clearAll");n.onclick=deleteMessages}).catch(function(n){return console.error(n.toString())});connection.on("AllMessages",function(n){for(var t in n)appendMessage(n[t])});connection.on("DeleteMessage",function(n){var t=document.getElementById("msg_"+n);t.remove()});connection.on("DeleteMessages",function(n){var t,i;for(t in n)i=document.getElementById("msg_"+n[t]),i.remove()});connection.on("AddMessage",function(n){appendMessage(n)});